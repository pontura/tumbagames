package ui{	import flash.display.MovieClip;	import flash.media.Sound;   	import flash.media.SoundChannel;   	import flash.media.SoundLoaderContext;   	import flash.media.SoundTransform;   	import flash.utils.getDefinitionByName;   	import flash.events.*;
   	import flash.utils.Timer;		public class Audio	{				private var actualAudio		:int;		private var channel			:SoundChannel;		private var fxChannel		:SoundChannel;		private var fxGritaChannel	:SoundChannel		private var Loop			:Sound;		private var volume			:Number				function Audio() {					}		public function start(actualAudio:int):void {						channel = new SoundChannel();				fxChannel = new SoundChannel();			fxGritaChannel = new SoundChannel();					this.actualAudio = actualAudio;					playLoop();					}		public function setNewLoop(actualAudio:int):void {			this.actualAudio = actualAudio;		}		public function playFx(audio:String):void {			switch (audio) {				case "salto":					Loop = new salto;					break;					case "agarra":					Loop = new agarra;					break;				case "armsAk47":					Loop = new armsAk47;					break;					case "armsKnife":					Loop = new armsKnife;					break;				case "armsPistol":					Loop = new armsPistol;					break;					case "armsPunch":					Loop = new armsPunch;					break;				case "armsPunga":					Loop = new armsPunga;					break;						case "armsPunga":					Loop = new armsPunga;					break;					case "botellas":					Loop = new botellas;					break;					case "explosion":					Loop = new explosion;					break;					case "golpe":					Loop = new golpe;					break;					case "patada":					Loop = new patada;					break;				}						fxChannel = Loop.play();		}		public function grita():void {			Loop = new grito;			this.volume = 1;			setVolume(1,fxGritaChannel);						//var trans:SoundTransform = new SoundTransform(1);			fxGritaChannel = Loop.play();			var timer:Timer = new Timer(200, 13);			timer.addEventListener(TimerEvent.TIMER, volumenOut);			timer.start();		}		public function volumenOut(e:TimerEvent):void{						if(volume<0){				volume = 0;				return;			}			volume -=0.08;			setVolume(volume, fxGritaChannel);		}			public function setOff():void{			channel.stop();			channel.removeEventListener(Event.SOUND_COMPLETE, loopMusic);		}				private function playLoop():void {						switch (actualAudio) {				case 1:					Loop = new audio1;					break;				case 2:					Loop = new audio2;					break;				case 3:					Loop = new audio3;					break;				case 4:					Loop = new audio5;					break;				case 5:					Loop = new audio6;					break;				default:					Loop = new audio6;					break;								}						channel = Loop.play();						/*			if (level==1) setVolume(0.4);			else setVolume(1);				*/			channel.addEventListener(Event.SOUND_COMPLETE, loopMusic);           		}		private function loopMusic(e:Event):void {			playLoop();		}		public function setVolume(volume:Number,channel:SoundChannel):void {			var transform:SoundTransform = channel.soundTransform;			transform.volume = volume;			channel.soundTransform = transform;	     }	}}